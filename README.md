# gRPC-Demo-CMake

> CIS 5050 Final Project Demo at TA Panel

This document provides a breif overview of this demo project and how to build and run it. One should have a basic understanding of CMake, gRPC, and Protocol Buffers to understand this project. The last section provides a brief overview of containerization of the project.

## Overview

This project is a simple gRPC client-server application that demonstrates the use of gRPC and project management with CMake with nested project strucutres.

The project is divided into three sub-projects/modules:

1. `proto` - Contains the protocol buffer definition file and the generated C++ code for gRPC server and client.

2. `server` - Contains the server implementation.

3. `client` - Contains the client implementation.

## Build and Run

### Pre-Requisites

A script is provided to install the necessary dependencies for this project, including gRPC and Protocol Buffers using latest versions. The script is tested on Ubuntu 20.04 LTS.

> CAVEAT: Using the script may install the dependencies globally on the system and uninstallation will be very difficult. It is recommended to create a snapshot of the VM or container before running the script.

```bash
[sudo] bash dependencies.sh
```

One may notice the recommended way to install gRPC by the official documentation using CMake is to install the dependencies locally with proper CMake commands. However, numerous issues were encountered during the installation process, and the script is provided as a workaround.

## Build

1. Use CMake to generate the build files and `compile_commands.json` for the project.

    Once the dependencies are installed, one can build the project using CMake very easily. The project is configured to use CMake 3.15 or later.

    ```bash
    mkdir build
    cd build
    cmake ..
    ```

2. Config VSCODE to use `compile_commands.json` for IntelliSense.

    The `compile_commands.json` file is generated by CMake and can be used by VSCODE to provide IntelliSense for the project. This is very useful for developers to navigate the codebase and understand the project structure.

    ```bash
    ln -s compile_commands.json ../compile_commands.json
    ```

3. Build the project using `make`.

    ```bash
    cd build
    make -j$(nproc)
    ```

    The runnable binaries will be generated in the `build` directory. Specifically, the server binary is `server/server` and the client binary is `client/client`.

## Run

1. Run the server.

    ```bash
    cd build
    ./server/server
    ```

2. Run the client.

    ```bash
    cd build
    ./client/client
    ```

## Containerization
